<!--
  Generated template for the CreatePersonPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>Create Person</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>

  
  <form [formGroup]="myGroup">

    <ion-grid>

 <ion-row>


                  <ion-col col-12 text-center>
                    <img class="dr_pro" *ngIf="!base64profile" src="assets/imgs/dummy.png" alt="">
                    <img class="dr_pro" *ngIf="base64profile" src="{{base64profile}}">
                    <div class="div-icon" (click)="actionsheet()">
                      <ion-icon name="md-camera"></ion-icon>
                    </div>
                  </ion-col>
                </ion-row>


      <ion-row>
        <ion-col col-12 col-sm-6>
          <ion-item>
            <ion-label floating>Reg No <b>*</b></ion-label>
            <ion-input formControlName="regNo" required type="number" required  (ionChange)="checkRoleNo($event)" maxlength="10">
            </ion-input>
          </ion-item>
          <span class="redclass" *ngIf="myGroup.controls['regNo'].errors?.required &&
              myGroup.controls['regNo'].touched">Reg No is Required </span>
              <span class="redclass" *ngIf="myGroup.controls['regNo'].errors?.minlength">Reg No must be in 5 digits</span>
               <span class="redclass" *ngIf="rollNocheck == true">This Reg No Already Exist</span>
        </ion-col>
        <ion-col col-12 col-sm-6>
          <ion-item>
            <ion-label floating>First Name <b>*</b></ion-label>
            <ion-input formControlName="firstname" required type="text" required minlength="3">
            </ion-input>
          </ion-item>
          <span class="redclass" *ngIf="myGroup.controls['firstname'].errors?.required &&
              myGroup.controls['firstname'].touched">First Name is Required </span>
          <span class="redclass" *ngIf="myGroup.controls['firstname'].errors?.minlength">
            Minimum 3 Characters </span>
        </ion-col>

        <ion-col col-12 col-sm-6>
          <ion-item>
            <ion-label floating>Last Name <b>*</b></ion-label>
            <ion-input formControlName="lastname" required type="text" required>
            </ion-input>
          </ion-item>
          <span class="redclass" *ngIf="myGroup.controls['lastname'].errors?.required &&
              myGroup.controls['lastname'].touched">Last Name is Required </span>
        </ion-col>

        <ion-col col-12 col-sm-6>
          <ion-item>
            <ion-label floating>Father Name <b>*</b></ion-label>
            <ion-input formControlName="fathername" required type="text" required minlength="3">
            </ion-input>
          </ion-item>
          <span class="redclass" *ngIf="myGroup.controls['fathername'].errors?.required &&
              myGroup.controls['fathername'].touched">Father Name is Required </span>
        </ion-col>

        <ion-col col-12 col-sm-6>
          <ion-item>
            <ion-label floating>Date of Birth</ion-label>
            <ion-datetime formControlName="dob"
              displayFormat="D-MMM-YYYY" min="1950" max="2020"></ion-datetime>
          </ion-item>
        </ion-col>

        <ion-col col-12 col-sm-6>
          <ion-item>
            <ion-label floating>Mobile Number</ion-label>
            <ion-input formControlName="mobile" type="tel"  minlength="10" maxlength="10">
            </ion-input>
          </ion-item>
          <span class="redclass" *ngIf="myGroup.controls['mobile'].errors?.minlength">Min Mobile No length is 10</span>
        </ion-col>

       

        <ion-col col-12 col-sm-6>
          <ion-item>
            <ion-label floating>Email</ion-label>
            <ion-input formControlName="Email" type="text" maxlength="20">
            </ion-input>
          </ion-item>
          <span class="redclass" *ngIf="myGroup.controls['Email'].errors?.pattern">Email Id pattern is not vaild </span>
        </ion-col>
        <ion-col col-12 col-sm-6>
          <ion-item>
            <ion-label floating>Address</ion-label>
            <ion-input formControlName="Address" type="text"  maxlength="30">
            </ion-input>
          </ion-item>
        </ion-col>


      </ion-row>
    </ion-grid>

    <div padding>
      <button ion-button *ngIf="!editData" [disabled]="!myGroup.valid" class="save" (click)="save()">
        Save
      </button>
      <button ion-button *ngIf="editData" [disabled]="!myGroup.valid" class="save" (click)="update()">Update</button>
    </div>


  </form>

</ion-content>
